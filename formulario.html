<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Reportar caso | Microdeleci贸n 15q11.2</title>
  <meta name="description" content="Formulario para reportar nuevos casos de microdeleci贸n 15q11.2">
  <link rel="stylesheet" href="styles.css">
  <script defer src="scripts.js"></script>
</head>
<body>
  <nav class="nav">
    <div class="inner">
      <div class="brand">
        <img class="logo" src="https://raw.githubusercontent.com/Evelez23/-microdelecion/refs/heads/main/img/logo%20micro1.png" alt="Logo Microdeleci贸n 15q11.2">
        <div>Microdeleci贸n 15q11.2</div>
      </div>
      <div class="nav-links">
        <a href="index.html">Inicio</a>
        <a href="genetica.html">Gen茅tica</a>
        <a href="casos.html">Casos</a>
        <a href="estadisticas.html">Estad铆sticas</a>
        <a href="resumen.html">Resumen</a>
        <a href="recursos.html">Recursos</a>
        <a class="btn-agregar" href="formulario.html">Reportar caso</a>
      </div>
    </div>
  </nav>

  <section class="container">
    <h1>Reportar un caso</h1>
    <p class="subtitle">Comparte informaci贸n sobre un caso de microdeleci贸n 15q11.2 para ayudar a nuestra comunidad</p>

    <div class="panel">
      <h2>Formulario de reporte completo</h2>
      <p>Utiliza el siguiente formulario para reportar un nuevo caso. Toda la informaci贸n se manejar谩 con confidencialidad.</p>
      
      <!-- Formulario integrado -->
      <form id="caseForm" class="form-container">
        <div class="form-group">
          <label>Nombre (puede ser ficticio):*</label>
          <input type="text" name="nombre" required>
        </div>
        
        <div class="form-group">
          <label>Edad:*</label>
          <input type="number" name="edad" min="0" max="100" required>
        </div>
        
        <div class="form-group">
          <label>G茅nero:*</label>
          <select name="genero" required>
            <option value="">Seleccionar</option>
            <option value="Masculino">Masculino</option>
            <option value="Femenino">Femenino</option>
            <option value="Otro">Otro</option>
          </select>
        </div>
        
        <div class="form-group">
          <label>Ciudad/Pa铆s:*</label>
          <input type="text" name="localizacion" required placeholder="Ej: Madrid, Espa帽a">
        </div>
        
        <div class="form-group">
          <label>S铆ntomas principales:*</label>
          <textarea name="sintomas" required placeholder="Ej: TEA, retraso del lenguaje, hipoton铆a..."></textarea>
        </div>
        
        <div class="form-group">
          <label>Nivel de afectaci贸n:*</label>
          <select name="gravedad" required>
            <option value="">Seleccionar</option>
            <option value="Leve">Leve</option>
            <option value="Moderado">Moderado</option>
            <option value="Grave">Grave</option>
          </select>
        </div>
        
        <div class="form-group">
          <label>Terapias recibidas:</label>
          <textarea name="terapias" placeholder="Ej: Logopedia, fisioterapia..."></textarea>
        </div>
        
        <div class="form-group">
          <label>Medicamentos actuales:</label>
          <textarea name="medicamentos" placeholder="Ej: Risperidona, magnesio..."></textarea>
        </div>
        
        <div class="form-group">
          <label>驴Ha participado en estudios?</label>
          <select name="estudios">
            <option value="No">No</option>
            <option value="S铆">S铆</option>
          </select>
        </div>
        
        <button type="submit" class="button">Enviar caso</button>
      </form>
    </div>

    <div class="grid-2">
      <div class="panel">
        <h2>驴Por qu茅 reportar un caso?</h2>
        <ul>
          <li><strong>Ayuda a la comunidad:</strong> Tu experiencia puede ayudar a otras familias</li>
          <li><strong>Contribuye a la investigaci贸n:</strong> Los datos agregados ayudan a entender mejor esta condici贸n</li>
          <li><strong>Recibe apoyo:</strong> Al compartir tu caso, puedes conectar con otras familias</li>
          <li><strong>Mant茅n el anonimato:</strong> Toda la informaci贸n personal se mantendr谩 confidencial</li>
        </ul>
      </div>

      <div class="panel">
        <h2>Datos que solicitamos</h2>
        <ul>
          <li>Informaci贸n demogr谩fica b谩sica (edad, g茅nero, ubicaci贸n)</li>
          <li>S铆ntomas y caracter铆sticas principales</li>
          <li>Pruebas diagn贸sticas realizadas</li>
          <li>Tratamientos y terapias</li>
          <li>Desaf铆os y necesidades</li>
        </ul>
      </div>
    </div>

    <div class="panel disclaimer">
      <h2> Pol铆tica de privacidad</h2>
      <ul>
        <li>Nunca publicaremos informaci贸n personal identificable</li>
        <li>Los datos se muestran de forma agregada y an贸nima</li>
        <li>Puedes solicitar eliminar tu informaci贸n en cualquier momento</li>
        <li>Utilizamos los datos solo con fines de investigaci贸n</li>
      </ul>
    </div>
  </section>

  <footer class="footer">漏 2025 | Formulario seguro y confidencial - Comunidad de Familias 15q11.2</footer>

  <script>
    // Manejo del formulario
    document.getElementById('caseForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const formData = new FormData(this);
      const data = Object.fromEntries(formData);
      data.__origen = 'no_validado';
      data.fecha = new Date().toISOString();
      
      try {
        // Guardar en localStorage temporalmente
        const casos = JSON.parse(localStorage.getItem('casos_nuevos') || '[]');
        casos.push(data);
        localStorage.setItem('casos_nuevos', JSON.stringify(casos));
        
        alert('隆Caso registrado exitosamente! Los datos aparecer谩n en la secci贸n de casos no validados.');
        this.reset();
      } catch (error) {
        alert('Error al registrar el caso. Por favor intente nuevamente.');
      }
    });
  </script>
</body>
</html>
